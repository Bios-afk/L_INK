<div class="artist-card" data-controller='artist-card'>
  <!-- Premier plan -->
  <div class="artist-card-top d-flex justify-content-center align-items-center">
    <div class="top-card-container w-100 h-100 d-flex justify-content-between align-items-center">

      <!-- Partie info -->
      <div class="top-card-info w-100 h-100 d-flex align-items-center justify-content-start">
        <div class="picture rounded-circle">
          <%= cl_image_tag artist.user.avatar.key if artist.user.avatar.attached? %>
          <div class="rating-circle rounded-circle bg-light d-flex align-items-center justify-content-center">
            <div class="rating d-flex flex-column align-items-center justify-content-center">
              <i class="fa-solid fa-star" style="color: #FFD43B;"></i>
              <%# <%= user.rating %>5,5
            </div>
          </div>
        </div>
        <div class="text-info d-flex flex-column align-items-start justify-content-center">
          <h3 class="artist-name"><%#= user.username %></h3>
          <p class="artist-username"><%= artist.user.bio.split[0, 5].join(" ") %>…</p>
          <p class="artist-bio"><%= artist.user.categories.limit(3).map(&:name).join(" · ") %></p>
        </div>
      </div>

      <!-- Partie Loc -->
      <div class="top-card-loc">
        <button class="toggle-down-btn btn btn-sm btn-light mt-2">Afficher la carte</button>
        <i class="fa-solid fa-map-location-dot" style="color: #000000;"></i>
        <p class="artist-location"><%= artist.address %></p>
      </div>
    </div>
  </div>

  <!-- Second plan -->
  <div class="artist-card-down p-3 w-100 d-flex jutify-content-between align-items-end" data-card-target-value='down'>

    <!-- Section photos -->
    <div class="photos w-100" data-card-target-value='photos'>
      <i class="fa-solid fa-chevron-left" style="color: #000000;"></i>
      <div class="artist-card-down-img d-flex gap-2 justify-content-center align-items-end">
        <%# <% artist.photos.with_attached_blob.first(3).each do |photo| %>
          <%# <%= image_tag photo.variant(resize_to_limit: [400, 300]), class: "img-fluid rounded", style: "height: 110px; width: auto;" %>
        <%# <% end %>
      </div>
      <i class="fa-solid fa-chevron-right" style="color: #000000;"></i>
    </div>

    <!-- Section map -->
    <div class="map hidden" data-card-target-value='map'>
      <%= image_tag "map-placeholder.png", class: "img-fluid", style: "width: 100%; height: 110px;" %> <!-- à remplacer par une vraie map -->
    </div>
  </div>
</div>
