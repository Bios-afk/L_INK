<div class="container mt-4">

  <!-- ðŸ”™ Header avec flÃ¨che + titre centrÃ© -->
  <div class="titre-container d-flex align-items-center gap-4 mb-4">
    <%= link_to root_path do %>
      <%= image_tag 'Left_arrow.svg', class: 'header-arrow' %>
    <% end %>
    <h1 class="m-0 mx-auto text-center">Artistes suivis</h1>
  </div>

  <% @followed_artists.each do |artist| %>
    <div class="position-relative mb-3">
      <%= link_to artist_path(artist), class: "text-decoration-none text-light" do %>
        <div class="follow-card d-flex align-items-center justify-content-between p-3 rounded">
          <div class="d-flex align-items-center">
            <%= image_tag(
                  artist.user.avatar.attached? ? url_for(artist.user.avatar) : "default_avatar.png",
                  class: "rounded-circle me-3",
                  size: "50x50",
                  alt: artist.user.pseudo
                ) %>
            <h5 class="mb-0"><%= artist.user.pseudo %></h5>
          </div>
        </div>
      <% end %>

      <div class="position-absolute end-0 top-50 translate-middle-y me-3">
        <%= form_with url: follow_path(current_user.follows.find_by(artist_id: artist.id)), method: :delete, data: { turbo_stream: true } do %>
          <button type="submit" class="btn btn-outline-light btn-sm" onclick="event.stopPropagation();">
            Supprimer
          </button>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
