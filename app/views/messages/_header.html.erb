<div class="header-container w-100 d-flex justify-content-between align-items-center">
  <div class="titre-container d-flex align-items-center gap-4">
    <%= link_to message_feeds_path do %>
      <%= image_tag 'Left_arrow.svg', class: 'header-arrow' %>
    <% end %>
    <div class="titre-prfile">
      <%= link_to user_path(user), data: { turbo: false }, class: 'w-100' do %>
        <div class="top-card-info w-100 h-100 d-flex align-items-center justify-content-start">
          <div class="picture h-100">
            <%= image_tag @user.user.avatar_or_default, class: 'rounded-circle object-fit-cover', size: "38x38" %>
          </div>
          <div class="text-info d-flex flex-column align-items-start justify-content-between h-100">
            <h3 class="artist-name"><%= @user.user.pseudo %></h3>
          </div>
        </div>
      <% end %>
    </div>
  </div>
  <div class="d-flex align-items-center gap-3">
    <!-- Lien vers le formulaire de booking -->
<div id="cadie">
<% if @feed.booking.present? &&
      current_user.userable_type == "Artist" &&
      @feed.booking.artist == current_user.userable &&
      @feed.booking.quote_request.present? &&
      @feed.booking.quote_request.accepted? &&
      !@feed.booking.approved? &&
      !@feed.booking.completed? &&
      !@feed.booking.rejected_by_client? &&
      !@feed.booking.cancelled_by_artist? &&
      !@feed.booking.archived? %>
        <%= render partial: 'messages/bouton', locals: { feed: @feed } %>
        <% end %>
        </div>
    <!-- Bouton pour ouvrir le panneau de paramÃ¨tres -->
    <button class="btn p-0"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasRight"
            aria-controls="offcanvasRight">
      <%= image_tag 'parametre.svg', class: 'header-icon-message' %>
    </button>
  </div>
</div>

<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
  <%= render partial: 'messages/settings' %>
</div>
